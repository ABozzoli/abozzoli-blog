---
import MainLayout from "./MainLayout.astro";
import { slugify, formatDate } from "../js/utils";
import RelatedPosts from "../components/RelatedPosts.astro";

const { frontmatter } = Astro.props;
const { title, category, author, date, image } = frontmatter;
---

<MainLayout>
  <div class="flow">
    <img src={image.src} alt={image.alt} />

    <div class="mt-32 mb-32">
      <h1 class="mb-0">{title}</h1>
      <p>By <a href={`/author/${slugify(author)}/`}>{author}</a> Â· {formatDate(date)}</p>
      <a class="badge" href={`/category/${slugify(category)}/`}>{category}</a>
    </div>

    <slot />

    <RelatedPosts {category} {title} />
  </div>
</MainLayout>
